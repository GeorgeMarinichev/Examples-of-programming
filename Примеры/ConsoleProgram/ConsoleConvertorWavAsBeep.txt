using System;
using System.IO;
using System.Media;

class Program
{
    static void Main(string[] args)
    {
        Console.WriteLine("Введите путь к WAV файлу:");
        string filePath = Console.ReadLine();

        if (File.Exists(filePath))
        {
            PlayWavAsBeep(filePath);
        }
        else
        {
            Console.WriteLine("Файл не найден.");
        }
    }

    static void PlayWavAsBeep(string filePath)
    {
        using (var reader = new BinaryReader(File.Open(filePath, FileMode.Open)))
        {
            // Чтение заголовка WAV
            reader.ReadBytes(22); // Пропускаем до количества каналов
            short channels = reader.ReadInt16();
            reader.ReadBytes(6); // Пропускаем до частоты дискретизации
            int sampleRate = reader.ReadInt32();
            reader.ReadBytes(6); // Пропускаем до битности
            short bitsPerSample = reader.ReadInt16();

            // Чтение данных
            reader.ReadBytes(4); // Пропускаем "data" заголовок
            int dataSize = reader.ReadInt32();

            byte[] data = reader.ReadBytes(dataSize);

            // Преобразование данных в частоты для Console.Beep
            for (int i = 0; i < data.Length; i += 2)
            {
                // Преобразуем 16-битные PCM данные в частоту (пример)
                short sample = (short)((data[i + 1] << 8) | data[i]);
                int frequency = Math.Abs(sample) % 2000 + 200; // Приведение к частоте
                Console.Beep(frequency, 50); // Воспроизведение сигнала
            }
        }
    }
}
